{"uid":"ca8aa2483c7bfafc","name":"test_app_names_consistency","fullName":"tests.test_data_in_tables#test_app_names_consistency","historyId":"df9948b9851d09ca581795c173d7e1dc","time":{"start":1712486039232,"stop":1712486040595,"duration":1363},"description":"\nПроверяет наличие соответствия каждого app_id из таблицы agg_data в таблице app_names, обеспечивая целостность ссылочных \nданных между таблицами.\n","descriptionHtml":"<p>Проверяет наличие соответствия каждого app_id из таблицы agg_data в таблице app_names, обеспечивая целостность ссылочных<br />\nданных между таблицами.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"setup","time":{"start":1712486030942,"stop":1712486030943,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\nПроверяет наличие соответствия каждого app_id из таблицы agg_data в таблице app_names, обеспечивая целостность ссылочных \nданных между таблицами.\n","status":"passed","steps":[{"name":"Проверка соответствия app_id между agg_data и app_names\n\nExecuted query:\n\n        -- Выполняется LEFT JOIN между таблицей agg_data и app_names по столбцу app_id.\n        -- Это позволяет нам проверить каждый app_id из agg_data на наличие соответствующей записи в app_names.\n        -- Если соответствующая запись в app_names не найдена (т.е., результат JOIN'a для этой строки будет NULL),\n        -- такие app_id считаются \"отсутствующими\" в app_names.\n        SELECT ad.app_id\n        FROM `data-quality-project-1.dq_data_set.agg_data` ad\n        LEFT JOIN `data-quality-project-1.dq_data_set.app_names` an ON ad.app_id = an.app_id\n        WHERE an.app_id IS NULL  -- Отбираются только те app_id, для которых не нашлось соответствия в app_names.\n    ","time":{"start":1712486039232,"stop":1712486040205,"duration":973},"status":"passed","steps":[],"attachments":[{"uid":"9dcb55df87c3b52c","name":"SQL Query","source":"9dcb55df87c3b52c.txt","type":"text/plain","size":918}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Проверка на отсутствие app_id из agg_data без соответствующих записей в app_names","time":{"start":1712486040595,"stop":1712486040595,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"story","value":"Data_Tables_Creation"},{"name":"severity","value":"critical"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_data_in_tables"},{"name":"host","value":"8d3096653900"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_data_in_tables"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[],"tags":[]},"source":"ca8aa2483c7bfafc.json","parameterValues":[]}